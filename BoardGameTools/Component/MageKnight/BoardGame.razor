@page "/BoardGame/{title}/{id:int}"
@inherits BoardGameBase
@using BoardGameTools.Component.MageKnight;
@using BoardGameTools.Component.MageKnight.Models

@if (Result.Success)
{
    <MudContainer Class="mt-8">
        <Alert SeverityValue="Severity.Info" Text="Successfully" VisibleValue="@Visible"></Alert>
        <HistoryCard UsedCards="Result.Cards"></HistoryCard>
    </MudContainer>
}
else
{
    <Alert SeverityValue="Severity.Error" Text="Your are too bad" VisibleValue="@Visible"></Alert>
}
<MudGrid Class="mt-16 pl-16 pr-16">
    <MudItem xs="12" sm="6" md="6">
        <MudTable Items="@Cards" Hover="true" MultiSelection="true" @bind-SelectedItems="selectedCards" Filter="new Func<Cards,bool>(FilterCards1)">
            <ToolBarContent>
                <MudText Typo="Typo.h6">@Title</MudText>
                <MudSpacer />
                <MudTextField @bind-Value="searchString" Placeholder="Search" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"></MudTextField>
            </ToolBarContent>
            <HeaderContent>
                <MudTh>Name</MudTh>
                <MudTh>Characteristic</MudTh>
                <MudTh>Value</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd>@context.Name</MudTd>
                <MudTd>@context.Characteristics.CharacteristicType</MudTd>
                <MudTd>@context.Characteristics.Value</MudTd>
            </RowTemplate>
        </MudTable>
    </MudItem>
    <MudItem xs="12" sm="6" md="6">
        <MudTable Items="@Monsters" Hover="true" MultiSelection="true">
            <ToolBarContent>
                <MudText Typo="Typo.h6">Monsters</MudText>
                <MudSpacer />
                <MudTextField @bind-Value="searchString" Placeholder="Search" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"></MudTextField>
            </ToolBarContent>
            <HeaderContent>
                <MudTh>Name</MudTh>
                <MudTh>Attack</MudTh>
                <MudTh>Armor</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd>@context.Name</MudTd>
                <MudTd>@context.Attack</MudTd>
                <MudTd>@context.Armor</MudTd>
            </RowTemplate>
        </MudTable>
    </MudItem>
</MudGrid>
<MudContainer Style="text-align:center;" Class="mt-16">
    <MudButton Variant="Variant.Filled" Color="Color.Primary" Size="Size.Large" Class="mt-16" Style="width:15%;" OnClick="(() => Attacking())">Go</MudButton>
</MudContainer>